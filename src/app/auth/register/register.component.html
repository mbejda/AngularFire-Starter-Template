<div class="flex flex-col sm:flex-row min-h-screen">
  <!-- Left Column -->
  <div class="hidden sm:flex flex-col flex-auto bg-blue-600 items-center justify-center p-4 sm:p-8 lg:p-12 sm:w-2/3">
    <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4 sm:mb-6">Create Account!</h1>
    <p class="text-lg sm:text-xl lg:text-2xl text-center text-white max-w-md px-4">
      Join us today and start managing your account with ease.
    </p>
  </div>

  <!-- Right Column -->
  <div class="flex flex-col flex-auto bg-blue-300 sm:w-1/3">



    <p-card *ngIf="showVerificationMessage" class="p-4 sm:p-6 lg:p-8 my-auto">






      <div class="text-center">
        <i class="pi pi-envelope text-5xl text-blue-500"></i>
        <div class="text-center p-4 sm:p-6">
          <h2 class="text-2xl sm:text-2xl lg:text-3xl font-semibold text-gray-800">Verify Your Email</h2>
        </div>


        <p class="text-gray-600 mb-6">
          We've sent a verification link to <strong>{{ registeredEmail }}</strong>.
          Please check your inbox and verify your account to continue.
        </p>




        <div class="flex flex-col gap-4">
          <button
            pButton
            type="submit"
            label="Send Reset Link"
            icon="pi pi-refresh"
            [loading]="isResending"
            class="p-button-primary h-12"
            [disabled]="isResending">
          </button>
          <button
            pButton
            type="button"
            label="Back to Login"
            icon="pi pi-arrow-left"
            (click)="navigateToLogin()"
            class="p-button-outlined h-12">
          </button>
        </div>

      </div>
    </p-card>



    <p-card *ngIf="!showVerificationMessage" class="p-4 sm:p-6 lg:p-8 my-auto">


      <div *ngIf="!showVerificationMessage">
        <div class="text-center bg-white p-4 sm:p-6">
          <h2 class="text-2xl sm:text-2xl lg:text-3xl font-semibold text-gray-800">Register Your Account</h2>
        </div>

        <form [formGroup]="registerForm" (ngSubmit)="register()" class="space-y-3 sm:space-y-8 p-3 sm:p-4 lg:p-6">
          <!-- Email Input -->
          <div class="field">
            <label for="email" class="block text-gray-700 text-base sm:text-lg lg:text-xl font-medium mb-2">
              Email
            </label>
            <div class="p-input-icon-left w-full flex items-center">
              <i class="pi pi-envelope status-icon"></i>
              <input
                id="email"
                type="email"
                pInputText
                formControlName="email"
                class="w-full h-12 sm:h-14 lg:h-16 pl-10 text-base sm:text-lg"
                placeholder="Enter your email"
                [ngClass]="{'ng-invalid ng-dirty': email?.touched && email?.invalid}">
            </div>
            <small *ngIf="email?.invalid && (email?.dirty || email?.touched)"
                   class="p-error block mt-2 text-sm sm:text-base">
              <div *ngIf="email?.errors?.['required']">Email is required</div>
              <div *ngIf="email?.errors?.['pattern']">Please enter a valid email</div>
            </small>
          </div>

          <!-- Password Input -->
          <div class="field">
            <label for="password" class="block text-gray-700 text-base sm:text-lg lg:text-xl font-medium mb-2">
              Password
            </label>
            <div class="p-input-icon-left w-full flex items-center">
              <i class="pi pi-lock status-icon"></i>
              <p-password
                id="password"
                formControlName="password"
                [feedback]="true"
                [toggleMask]="true"
                class="w-full"
                styleClass="w-full h-12 sm:h-14 lg:h-16"
                inputStyleClass="w-full h-12 sm:h-14 lg:h-16 pl-10 text-base sm:text-lg"
                placeholder="Enter your password"
                [ngClass]="{'ng-invalid ng-dirty': password?.touched && password?.invalid}">
              </p-password>
            </div>
            <small *ngIf="password?.invalid && (password?.dirty || password?.touched)"
                   class="p-error block mt-2 text-sm sm:text-base">
              <div *ngIf="password?.errors?.['required']">Password is required</div>
              <div *ngIf="password?.errors?.['pattern']">
                Password must be at least 8 characters long and contain at least one letter and one number
              </div>
            </small>
          </div>

          <!-- Confirm Password Input -->
          <div class="field">
            <label for="confirmPassword" class="block text-gray-700 text-base sm:text-lg lg:text-xl font-medium mb-2">
              Confirm Password
            </label>
            <div class="p-input-icon-left w-full flex items-center">
              <i class="pi pi-lock status-icon"></i>
              <p-password
                id="confirmPassword"
                formControlName="confirmPassword"
                [feedback]="false"
                [toggleMask]="true"
                class="w-full"
                styleClass="w-full h-12 sm:h-14 lg:h-16"
                inputStyleClass="w-full h-12 sm:h-14 lg:h-16 pl-10 text-base sm:text-lg"
                placeholder="Confirm your password"
                [ngClass]="{'ng-invalid ng-dirty': confirmPassword?.touched && registerForm.errors?.['passwordMismatch']}">
              </p-password>
            </div>
            <small *ngIf="confirmPassword?.touched && registerForm.errors?.['passwordMismatch']"
                   class="p-error block mt-2 text-sm sm:text-base">
              Passwords do not match
            </small>
          </div>

          <!-- Buttons -->
          <div class="flex flex-col gap-4 sm:gap-6 mt-6 sm:mt-8">
            <button
              pButton
              type="submit"
              [label]="isLoading ? 'Creating account...' : 'Register'"
              icon="pi pi-user-plus"
              iconPos="left"
              class="p-button-primary h-12 sm:h-14 lg:h-16 text-base sm:text-lg lg:text-xl"
              [disabled]="registerForm.invalid || isLoading">
            </button>




            <a
              [routerLink]="['/login']"
              pButton
              type="button"
              label="Back to Login"
              icon="pi pi-arrow-left"
              iconPos="left"
              class="p-button-outlined h-12 sm:h-14 lg:h-16 text-base sm:text-lg lg:text-xl">
            </a>
          </div>
        </form>
      </div>
    </p-card>
  </div>
</div>

<p-toast></p-toast>
